# ğŸ” çˆ¬è™«æ—¥å¿—ä¸æ•°æ®éªŒè¯ç³»ç»Ÿ

## ğŸ“‹ æ¦‚è¿°

æœ¬ç³»ç»Ÿä¸º HistoryGogo çˆ¬è™«æ·»åŠ äº†å®Œå–„çš„æ—¥å¿—è®°å½•å’Œæ•°æ®éªŒè¯æœºåˆ¶ï¼Œå¸®åŠ©ä½ ï¼š

âœ… **å®æ—¶ç›‘æ§çˆ¬å–è¿›åº¦**  
âœ… **å¿«é€Ÿå®šä½é—®é¢˜**  
âœ… **éªŒè¯æ•°æ®å®Œæ•´æ€§**  
âœ… **ç¡®è®¤çˆ¬å–æˆåŠŸ**

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1ï¸âƒ£ è¿è¡Œçˆ¬è™«ï¼ˆå¸¦å®Œæ•´æ—¥å¿—ï¼‰

```bash
# æµ‹è¯•æ¨¡å¼ - çˆ¬å–å‰3ä½çš‡å¸
python run_crawler.py --mode test --spider baidu_baike

# å…¨é‡æ¨¡å¼ - çˆ¬å–æ‰€æœ‰16ä½çš‡å¸
python run_crawler.py --mode full --spider baidu_baike
```

### 2ï¸âƒ£ å¿«é€Ÿæ£€æŸ¥æ•°æ®

```bash
# å¿«é€ŸæŸ¥çœ‹æ•°æ®ç»Ÿè®¡
python quick_check.py
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
============================================================
                    âš¡ å¿«é€Ÿæ•°æ®æ£€æŸ¥                    
============================================================

ğŸ“Š æ•°æ®ç»Ÿè®¡:
  ğŸ‘‘ çš‡å¸: 3 ä½
  ğŸ“œ äº‹ä»¶: 24 ä¸ª
  ğŸ‘¤ äººç‰©: 45 ä½
  ğŸ“– ä½œå“: 8 ä»¶
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  âœ¨ æ€»è®¡: 80 æ¡

ğŸ¯ çˆ¬å–çŠ¶æ€:
  â³ éƒ¨åˆ†å®Œæˆ - 3 ä½çš‡å¸

ğŸ’¡ ä¸‹ä¸€æ­¥:
  1. è¿è¡Œ: python run_crawler.py --mode full
  2. éªŒè¯: python verify_crawl.py
============================================================
```

### 3ï¸âƒ£ å®Œæ•´éªŒè¯

```bash
# è¯¦ç»†éªŒè¯æ•°æ®è´¨é‡
python verify_crawl.py
```

---

## ğŸ“Š æ—¥å¿—ç³»ç»Ÿè¯¦è§£

### æ—¥å¿—çº§åˆ«

| Emoji | çº§åˆ« | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| ğŸš€ | INFO | å¯åŠ¨ä¿¡æ¯ | `ğŸš€ ç™¾åº¦ç™¾ç§‘çˆ¬è™«å¯åŠ¨` |
| ğŸ“¤ | INFO | è¯·æ±‚å‘é€ | `ğŸ“¤ [1/3] è¯·æ±‚çš‡å¸: æœ±å…ƒç’‹` |
| ğŸ‘‘ | INFO | çš‡å¸æ•°æ® | `ğŸ‘‘ å¼€å§‹è§£æçš‡å¸: æœ±å…ƒç’‹` |
| âœ… | INFO | æˆåŠŸæ“ä½œ | `âœ… æˆåŠŸæå–çš‡å¸æ•°æ®` |
| ğŸ” | INFO | é“¾æ¥å‘ç° | `ğŸ” å‘ç° 8 ä¸ªç›¸å…³äº‹ä»¶é“¾æ¥` |
| ğŸ“Š | INFO | ç»Ÿè®¡ä¿¡æ¯ | `ğŸ“Š çˆ¬å–ç»Ÿè®¡æŠ¥å‘Š` |
| ğŸ§½ | DEBUG | æ•°æ®æ¸…æ´— | `ğŸ§½ æ¸…æ´—çš‡å¸æ•°æ®: æœ±å…ƒç’‹` |
| ğŸ’¾ | DEBUG | æ•°æ®ä¿å­˜ | `ğŸ’¾ å·²ä¿å­˜çš‡å¸: æœ±å…ƒç’‹` |
| âš ï¸ | WARNING | è­¦å‘Šä¿¡æ¯ | `âš ï¸ æœªèƒ½æå–åˆ°æœ‰æ•ˆæ•°æ®` |
| âŒ | ERROR | é”™è¯¯ä¿¡æ¯ | `âŒ è§£æçš‡å¸é¡µé¢å¤±è´¥` |
| ğŸ | INFO | å®Œæˆä¿¡æ¯ | `ğŸ çˆ¬è™«è¿è¡Œç»“æŸ` |

### æ—¥å¿—æ–‡ä»¶ä½ç½®

```
crawler/data/logs/
â”œâ”€â”€ baidu_baike_test.log      # æµ‹è¯•æ¨¡å¼æ—¥å¿—
â””â”€â”€ baidu_baike_full.log      # å…¨é‡æ¨¡å¼æ—¥å¿—
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f crawler/data/logs/baidu_baike_test.log

# åªçœ‹é”™è¯¯
grep "âŒ" crawler/data/logs/baidu_baike_test.log

# åªçœ‹æˆåŠŸè®°å½•
grep "âœ…" crawler/data/logs/baidu_baike_test.log

# ç»Ÿè®¡çˆ¬å–æ•°é‡
grep "æˆåŠŸçˆ¬å–" crawler/data/logs/baidu_baike_test.log | wc -l
```

---

## ğŸ¯ æ—¥å¿—è¾“å‡ºç¤ºä¾‹

### â­ å¯åŠ¨é˜¶æ®µ

```
================================================================================
ğŸš€ ç™¾åº¦ç™¾ç§‘çˆ¬è™«å¯åŠ¨
   çˆ¬å–æ¨¡å¼: æµ‹è¯•æ¨¡å¼
   çˆ¬å–æ•°é‡: å‰ 3 ä½çš‡å¸
================================================================================

ğŸ“‹ æµ‹è¯•æ¨¡å¼ï¼šåªçˆ¬å–å‰3ä½çš‡å¸

================================================================================
å¼€å§‹ç”Ÿæˆçš‡å¸çˆ¬å–è¯·æ±‚...
================================================================================

ğŸ“¤ [1/3] è¯·æ±‚çš‡å¸: æœ±å…ƒç’‹ - https://baike.baidu.com/item/æœ±å…ƒç’‹
ğŸ“¤ [2/3] è¯·æ±‚çš‡å¸: æœ±å…ç‚† - https://baike.baidu.com/item/æœ±å…ç‚†
ğŸ“¤ [3/3] è¯·æ±‚çš‡å¸: æœ±æ££ - https://baike.baidu.com/item/æœ±æ££
```

### â­ è§£æé˜¶æ®µ

```
================================================================================
ğŸ‘‘ å¼€å§‹è§£æçš‡å¸: æœ±å…ƒç’‹
   URL: https://baike.baidu.com/item/æœ±å…ƒç’‹
   çŠ¶æ€ç : 200
================================================================================
ğŸ“Š æ­£åœ¨æå– æœ±å…ƒç’‹ çš„è¯¦ç»†ä¿¡æ¯...
âœ… æˆåŠŸæå–çš‡å¸æ•°æ®: æœ±å…ƒç’‹
   - åº™å·: æ˜å¤ªç¥–
   - å¹´å·: æ´ªæ­¦
   - å‡ºç”Ÿ: 1328-10-21
   - å»ä¸–: 1398-06-24
   - ç®€ä»‹é•¿åº¦: 523 å­—ç¬¦
ğŸ” å‘ç° 8 ä¸ªç›¸å…³äº‹ä»¶é“¾æ¥
   ğŸ“¤ [1/10] è¯·æ±‚äº‹ä»¶: é–éš¾ä¹‹å½¹
   ğŸ“¤ [2/10] è¯·æ±‚äº‹ä»¶: æ´ªæ­¦ä¹‹æ²»
ğŸ” å‘ç° 15 ä¸ªç›¸å…³äººç‰©é“¾æ¥
   ğŸ“¤ [1/20] è¯·æ±‚äººç‰©: æœ±æ££
   ğŸ“¤ [2/20] è¯·æ±‚äººç‰©: åˆ˜ä¼¯æ¸©
âœ… çš‡å¸ æœ±å…ƒç’‹ è§£æå®Œæˆ
```

### â­ Pipeline é˜¶æ®µ

```
ğŸ§½ æ•°æ®æ¸…æ´—ç®¡é“å·²å¯åŠ¨
âœ… æ•°æ®éªŒè¯ç®¡é“å·²å¯åŠ¨
ğŸ’¾ SQLiteç®¡é“å·²è¿æ¥: server/database/historygogo.db

âœ… æˆåŠŸçˆ¬å–äº‹ä»¶: é–éš¾ä¹‹å½¹
   - ç±»å‹: military
   - æ—¶é—´: 1399-08-06
   - åœ°ç‚¹: åŒ—å¹³
   - å…³è”çš‡å¸: æœ±å…ƒç’‹

âœ… æˆåŠŸçˆ¬å–äººç‰©: åˆ˜ä¼¯æ¸©
   - ç±»å‹: official
   - èŒä½: å¾¡å²ä¸­ä¸
   - ç”Ÿå’: 1311-07-01 - 1375-04-16
```

### â­ å®Œæˆé˜¶æ®µ

```
================================================================================
ğŸ çˆ¬è™«è¿è¡Œç»“æŸ
   å…³é—­åŸå› : finished
================================================================================

ğŸ“Š çˆ¬å–ç»Ÿè®¡æŠ¥å‘Š:
================================================================================
æˆåŠŸçˆ¬å–æ•°æ®ï¼š
  - çš‡å¸: 3 ä½
  - äº‹ä»¶: 24 ä¸ª
  - äººç‰©: 45 ä½
  - æ€»è®¡: 72 æ¡

è¯·æ±‚ç»Ÿè®¡ï¼š
  - å‘é€è¯·æ±‚: 72 æ¬¡
  - è¯·æ±‚å¤±è´¥: 0 æ¬¡
  - è§£æé”™è¯¯: 0 æ¬¡

æˆåŠŸç‡ï¼š
  - è¯·æ±‚æˆåŠŸç‡: 100.00%
  - æ•°æ®è´¨é‡ç‡: 100.00%
================================================================================
âœ… çˆ¬å–ä»»åŠ¡æˆåŠŸå®Œæˆï¼
================================================================================

ğŸ§½ æ•°æ®æ¸…æ´—ç»Ÿè®¡: å¤„ç†=72, æ¸…æ´—=72, é”™è¯¯=0
   æ¸…æ´—æˆåŠŸç‡: 100.00%

================================================================================
âœ… æ•°æ®éªŒè¯ç»Ÿè®¡
================================================================================
éªŒè¯=72, é€šè¿‡=72, è­¦å‘Š=3, é”™è¯¯=0, ä¸¢å¼ƒ=0
éªŒè¯é€šè¿‡ç‡: 100.00%
âœ… æ‰€æœ‰æ•°æ®éªŒè¯å‡é€šè¿‡ï¼
================================================================================

================================================================================
ğŸ’¾ SQLiteæŒä¹…åŒ–ç»Ÿè®¡
================================================================================
çš‡å¸=3, äº‹ä»¶=24, äººç‰©=45, ä½œå“=8, é”™è¯¯=0
æ€»è®¡ä¿å­˜: 80 æ¡æ•°æ®
âœ… æ‰€æœ‰æ•°æ®å‡æˆåŠŸä¿å­˜
æ•°æ®åº“ä½ç½®: server/database/historygogo.db
================================================================================
```

---

## âœ… å¦‚ä½•ç¡®è®¤çˆ¬å–æˆåŠŸ

### æ–¹æ³•1ï¼šæŸ¥çœ‹æ§åˆ¶å°è¾“å‡º

è¿è¡Œçˆ¬è™«åï¼Œçœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯è¡¨ç¤ºæˆåŠŸï¼š

```
âœ… çˆ¬å–ä»»åŠ¡æˆåŠŸå®Œæˆï¼
```

å…³é”®æŒ‡æ ‡ï¼š
- **è¯·æ±‚æˆåŠŸç‡** > 95%
- **æ•°æ®è´¨é‡ç‡** > 90%
- **çš‡å¸æ•°é‡** = æœŸæœ›æ•°é‡ï¼ˆæµ‹è¯•æ¨¡å¼3ä½ï¼Œå…¨é‡16ä½ï¼‰

### æ–¹æ³•2ï¼šä½¿ç”¨å¿«é€Ÿæ£€æŸ¥è„šæœ¬

```bash
python quick_check.py
```

çœ‹åˆ° `âœ… å®Œæ•´` è¡¨ç¤ºæˆåŠŸã€‚

### æ–¹æ³•3ï¼šä½¿ç”¨å®Œæ•´éªŒè¯è„šæœ¬

```bash
python verify_crawl.py
```

çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºè¡¨ç¤ºæˆåŠŸï¼š

```
================================================================================
                             âœ… éªŒè¯ç»“æœ: æˆåŠŸ                             
================================================================================

ğŸ‰ æ­å–œï¼æ•°æ®çˆ¬å–æˆåŠŸï¼Œè´¨é‡è‰¯å¥½ï¼
```

### æ–¹æ³•4ï¼šç›´æ¥æŸ¥çœ‹æ•°æ®åº“

```bash
# ä½¿ç”¨ SQLite å®¢æˆ·ç«¯
sqlite3 server/database/historygogo.db

# æŸ¥è¯¢çš‡å¸æ•°é‡
SELECT COUNT(*) FROM emperors;

# æŸ¥çœ‹çš‡å¸åˆ—è¡¨
SELECT name, temple_name, reign_title FROM emperors;

# é€€å‡º
.quit
```

---

## ğŸ”§ è°ƒæ•´æ—¥å¿—çº§åˆ«

### åœ¨ `crawler/config/settings.py` ä¸­ï¼š

```python
# è°ƒè¯•æ¨¡å¼ - æŸ¥çœ‹æ‰€æœ‰è¯¦ç»†ä¿¡æ¯
LOG_LEVEL = 'DEBUG'

# æ­£å¸¸æ¨¡å¼ - åªçœ‹é‡è¦ä¿¡æ¯ï¼ˆæ¨èï¼‰
LOG_LEVEL = 'INFO'

# å®‰é™æ¨¡å¼ - åªçœ‹è­¦å‘Šå’Œé”™è¯¯
LOG_LEVEL = 'WARNING'
```

### ä¸´æ—¶è°ƒæ•´ï¼ˆåªå½±å“å½“å‰è¿è¡Œï¼‰

ä¿®æ”¹ `run_crawler.py` ä¸­çš„è®¾ç½®ï¼š

```python
settings.set('LOG_LEVEL', 'DEBUG')  # ä¸´æ—¶å¼€å¯ DEBUG
```

---

## ğŸ“ˆ ç›‘æ§å’Œç»Ÿè®¡

### çˆ¬å–è¿‡ç¨‹ä¸­

```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f crawler/data/logs/baidu_baike_test.log

# ç»Ÿè®¡æˆåŠŸæ•°
grep "âœ… æˆåŠŸ" crawler/data/logs/baidu_baike_test.log | wc -l

# ç»Ÿè®¡é”™è¯¯æ•°
grep "âŒ" crawler/data/logs/baidu_baike_test.log | wc -l
```

### çˆ¬å–å®Œæˆå

```bash
# å¿«é€Ÿæ£€æŸ¥
python quick_check.py

# å®Œæ•´éªŒè¯
python verify_crawl.py

# æŸ¥çœ‹éªŒè¯æŠ¥å‘Š
cat crawler/data/reports/crawl_verification_report.json
```

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. å…ˆæµ‹è¯•åå…¨é‡

```bash
# Step 1: æµ‹è¯•æ¨¡å¼
python run_crawler.py --mode test

# Step 2: å¿«é€Ÿæ£€æŸ¥
python quick_check.py

# Step 3: å¦‚æœæˆåŠŸï¼Œè¿è¡Œå…¨é‡
python run_crawler.py --mode full

# Step 4: å®Œæ•´éªŒè¯
python verify_crawl.py
```

### 2. é‡åˆ°é—®é¢˜æ—¶

```bash
# 1. æŸ¥çœ‹æœ€å50è¡Œæ—¥å¿—
tail -50 crawler/data/logs/baidu_baike_test.log

# 2. æŸ¥æ‰¾é”™è¯¯ä¿¡æ¯
grep "âŒ\|ERROR" crawler/data/logs/baidu_baike_test.log

# 3. è¿è¡ŒéªŒè¯è„šæœ¬
python verify_crawl.py

# 4. æ ¹æ®é”™è¯¯ä¿¡æ¯è°ƒæ•´é…ç½®
```

### 3. å®šæœŸæ£€æŸ¥

å»ºè®®æ¯æ¬¡çˆ¬å–åï¼š
1. âœ… æŸ¥çœ‹æ§åˆ¶å°çš„ç»Ÿè®¡æŠ¥å‘Š
2. âœ… è¿è¡Œ `python quick_check.py`
3. âœ… ä¿å­˜éªŒè¯æŠ¥å‘Šä»¥ä¾¿è¿½è¸ª

---

## ğŸ“ ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `quick_check.py` | å¿«é€Ÿæ•°æ®ç»Ÿè®¡è„šæœ¬ |
| `verify_crawl.py` | å®Œæ•´æ•°æ®éªŒè¯è„šæœ¬ |
| `crawler/LOGGING_GUIDE.md` | è¯¦ç»†æ—¥å¿—ä½¿ç”¨æŒ‡å— |
| `crawler/data/logs/` | æ—¥å¿—æ–‡ä»¶ç›®å½• |
| `crawler/data/reports/` | éªŒè¯æŠ¥å‘Šç›®å½• |

---

## ğŸ‰ æ€»ç»“

ç°åœ¨ä½ å¯ä»¥ï¼š

âœ… **å®æ—¶çœ‹åˆ°çˆ¬å–è¿›åº¦** - é€šè¿‡ä¸°å¯Œçš„ Emoji å’Œè¯¦ç»†æ—¥å¿—  
âœ… **å¿«é€Ÿæ£€æŸ¥æ•°æ®** - ä½¿ç”¨ `quick_check.py`  
âœ… **å®Œæ•´éªŒè¯æ•°æ®** - ä½¿ç”¨ `verify_crawl.py`  
âœ… **è¿½è¸ªé—®é¢˜** - é€šè¿‡è¯¦ç»†çš„é”™è¯¯æ—¥å¿—  
âœ… **ç¡®è®¤æˆåŠŸ** - å¤šç§æ–¹å¼éªŒè¯çˆ¬å–ç»“æœ  

**Happy Crawling! ğŸ•·ï¸**
